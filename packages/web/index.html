<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RSLH Filter Tools</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <main>
      <h1>RSLH Filter Tools</h1>

      <nav class="tab-bar" id="tab-bar">
        <!-- Dynamic tabs and + button rendered by main.ts -->
      </nav>

      <!-- Tab-bar-level errors (e.g. max tabs) -->
      <div id="tab-bar-error" class="error-banner" hidden></div>

      <!-- Empty state shown when no tabs are open -->
      <div id="empty-state" class="empty-state" hidden>
        <p>No tabs open. Click <strong>+</strong> to get started.</p>
      </div>

      <div id="tab-content" class="tab-panels">
        <!-- Generator content -->
        <div id="generator-content" hidden>
          <div class="generator-toolbar">
            <button id="gen-generate-btn" type="button" class="gen-toolbar-btn gen-toolbar-btn-primary">Generate .hsf</button>
            <button id="gen-save-btn" type="button" class="gen-toolbar-btn">Save .fmbl</button>
            <button id="gen-load-btn" type="button" class="gen-toolbar-btn">Load .fmbl</button>
            <input type="file" id="fmbl-input" accept=".fmbl" hidden />
          </div>
          <div id="groups-container"></div>
          <button id="gen-add-group" type="button" class="gen-add-group-btn">+ Add Group</button>
        </div>

        <!-- Viewer content -->
        <div id="viewer-content">
          <!-- Upload section -->
          <div id="drop-zone" class="drop-zone">
            <p>Drag &amp; drop a <strong>.hsf</strong> file here</p>
            <p>or <button id="browse-btn" type="button">browse</button></p>
            <input type="file" id="file-input" accept=".hsf" hidden />
          </div>

          <!-- Error banner -->
          <div id="error-banner" class="error-banner" hidden></div>

          <!-- Filter summary -->
          <div id="filter-summary" hidden></div>

          <!-- Test panel -->
          <details id="test-panel" hidden>
            <summary>Test Item</summary>
            <div id="test-panel-body"></div>
          </details>

          <!-- Rules container -->
          <div id="rules-container"></div>

          <!-- Raw JSON collapsible -->
          <details id="raw-json" hidden>
            <summary>Raw JSON</summary>
            <pre></pre>
          </details>
        </div>
      </div>
    </main>

    <button id="back-to-top" class="back-to-top" hidden aria-label="Back to top">&uarr;</button>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
